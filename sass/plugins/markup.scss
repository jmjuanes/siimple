@use "sass:map";
@use "../plugins.scss" as plugins;
@use "../utils.scss" as utils;

// @description markup plugin
@function plugin-markup() {
    $markup-styles: (
        // Paragraph style
        "p": (
            "color": "body",
            "display": block,
            "font-weight": "body",
            "line-height": "body",
            "margin-bottom": 1rem,
            "margin-top": 0px,
        ),
        // Anchor style
        "a": (
            "color": "primary",
        ),
        // Small text
        "small": (
            "font-size": "small",
        ),
        // Bold text
        "strong,b": (
            "font-weight": "bold",
        ),
        // Code block style
        "pre": (
            "font-family": "monospace",
            "overflow-x": auto,
            // Fix inline code blocks inside pre elements
            "& code": (
                "color": inherit,
            ),
        ),
        // Inline code style
        "code": (
            "color": "primary",
            "font-family": "monospace",
            "font-size": inherit,
            "text-decoration": "none",
        ),
        // Rule style
        "hr": (
            "background-color": "fill",
            "border": 0px,
            "display": block,
            "height": 0.125rem,
            "padding": 0px,
            //Divider first and last child
            "&:not(:first-child)": (
                "margin-top": 1rem,
            ),
            "&:not(:last-child)": (
                "margin-bottom": 1rem,
            ),
        ),
        // Blockquote style
        "blockquote": (
            "border-left-color": currentColor,
            "border-left-style": solid,
            "border-left-width": 0.25rem,
            "color": "body",
            "display": block,
            "margin-bottom": 1rem,
            "margin-left": 0px,
            "margin-right": 0px,
            "opacity": 0.6,
            "padding-bottom": 0.75rem,
            "padding-left": 1.25rem,
            "padding-right": 0.75rem,
            "padding-top": 0.75rem,
        ),
        // Table style
        "table": (
            "width": 100%,
        ),
    );
    // Add base heading styles
    @for $index from 1 through 6 {
        $heading-tag: "h#{$index}";
        $markup-styles: map.set($markup-styles, $heading-tag, (
            "color": "heading",
            "font-family": "heading",
            "font-size": map.get(constants.$headings, "#{$index}"),
            "font-weight": "heading",
            "line-height": "heading",
        ));
    }
    // Return markup plugins list
    @return utils.to-list(plugins.create-styles-plugin($markup-styles));
}
